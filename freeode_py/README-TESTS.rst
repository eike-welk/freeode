###############################################################################
Running the Test Suite 
###############################################################################
 
The test suite uses the "py.test" framework, which does a lot of magic, and 
which can run on tests multiple CPUs and on multiple computers over a network: 

    http://codespeak.net/py/dist/test/index.html

To distribute tests on multiple CPUs or servers you also need to install the 
following plug  in:
    http://codespeak.net/py/dist/test/plugin/xdist.html


Installation
============
(tbd)


USAGE
=====

Eclipse
-------
To run the test from Pydev/Eclipse, there is a Python script in this directory:
    
    run_test_py.py 

It also serves as an aid to memorize the correct options for "py.test".

Shell
-----
To run the tests from the shell, "cd" to the directory where this file 
("README-TESTS") is located. You can either run a script:

    run-all-tests

Or you can type the following commands at the Bash prompt:

    export PYTHONPATH=`pwd`
    py.test -n 2 --tb=short --report=skipped

The meaning of those commands and options is as follows:
- export PYTHONPATH=`pwd`
    Programs generated by the compiler have to find Siml's runtime libraries in
    the source directory (and not any installed versions of those libraries).
    Setting this environment variable is only necessary for tests that compile
    Siml programs and run them. 

- py.test
    The test framework's main program. It discovers the test scripts (named 
    "test_*.py") and runs the test functions (named "test_*") in them. 
    
- option "-n 2" 
    Distributes the tests on two local CPUs. 

- option "--tb=short"
    Short format for back traces of failed tests.
    
- option "--report=skipped" 
    Print some information about each skipped test. 
    




